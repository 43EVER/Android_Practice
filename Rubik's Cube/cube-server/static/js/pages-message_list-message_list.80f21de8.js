(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message_list-message_list"],{"0827":function(e,t,i){"use strict";i.r(t);var n=i("72cf"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=s.a},"72cf":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("f499"));i("7514");var a=n(i("0e8e")),o=n(i("c756")),u=n(i("5834")),r=i("77e1"),c={onShow:function(){var e=this,t=this.user_id,i=[],n=[],s=r.Query("chat");s.find().then(function(s){for(var a=[],o=0;o<s.length;o++){if(s[o].user_id[0]===t||s[o].user_id[1]==t){i.push(s[o].objectId),n.push(s[o]);var u=s[o],c=u.chat_list.pop(),d={chat_id:u.objectId,receive_name:u.user_id[0]===t?u.user_name[1]:u.user_name[0],last_message:c.content,time:c.time};a.push(d)}e.message_list=a,e.chat_list=n}var l=r.Query("_User");l.get(t).then(function(e){e.unset("chat_id_list"),e.save();var n=i.join(","),s=r.Query("_User");s.get(t).then(function(e){e.add("chat_id_list",[n]),e.save()})}).catch(function(e){console.log(e)})})},onLoad:function(){var e=this;uni.getStorage({key:"objectId",success:function(t){e.user_id=t.data}})},components:{uniSwipeAction:a.default,uniList:o.default,uniListItem:u.default},data:function(){return{option:[{text:"删除",style:{backgroundColor:"#dd524d"}}],chat_list:[],user_id:"",message_list:[]}},methods:{change:function(e){console.log("当前开启状态："+e)},click_message:function(e){var t=this,i=t.chat_list[e],n=t.user_id;console.log(i);var a=i.user_id[0]===n?0:1,o=0===a?1:0,u={user_id:i.user_id[a],author_id:i.user_id[o],author_name:i.user_name[o]};uni.navigateTo({url:"../chat/chat?item="+encodeURIComponent((0,s.default)(u))})}}};t.default=c},bb2e:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",e._l(e.message_list,function(t,n){return i("v-uni-view",{key:n},[i("uni-swipe-action",{attrs:{options:e.option}},[i("v-uni-view",{staticStyle:{padding:"3%","border-bottom":"#999999 solid 1px"}},[i("v-uni-view",{on:{click:function(t){t=e.$handleEvent(t),e.click_message(n)}}},[i("div",{staticStyle:{"font-size":"45rpx",color:"#007AFF"}},[i("strong",[e._v(e._s(t.receive_name))])])]),i("v-uni-view",{staticStyle:{"margin-top":"5rpx","margin-bottom":"5rpx",color:"#4CD964"}},[i("div",{staticStyle:{"font-size":"30rpx"}},[e._v("时间:"+e._s(t.time))])]),i("v-uni-view",[i("div",{staticStyle:{"font-size":"35rpx",color:"#F33059"}},[e._v(e._s(t.last_message))])])],1)],1)],1)}),1)},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})},fda1:function(e,t,i){"use strict";i.r(t);var n=i("bb2e"),s=i("0827");for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);var o=i("2877"),u=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"0bd1c092",null);t["default"]=u.exports}}]);